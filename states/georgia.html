<!DOCTYPE html>
<html>
  <head>
    <title>Clinics Available in Georgia</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
	<!-- Google Map plus markers from json file: http://stackoverflow.com/questions/28606149/load-data-from-json-file-into-map-markers-in-google-maps --> 
    <style>
	html, body, #map {
		height: 100%;
		width: 100%;
		margin: 0px;
		padding: 0px
	}
    </style>
	
  </head>
  
  <body>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://maps.googleapis.com/maps/api/js"></script>
	<div id="map" style="border: 2px solid #3872ac;"></div>
	
	<script>
		var map;
		// http://www.latlong.net/convert-address-to-lat-long.html
		// var icon = "http://path/to/icon.png";
		var infowindow = new google.maps.InfoWindow();
		function initialize() {
			var centerOfState = {lat: 32.165622, lng: -82.900075};

			var mapProp = {
				center: centerOfState, //Macon
				zoom: 7,
				mapTypeId: google.maps.MapTypeId.ROADMAP
			};

			map = new google.maps.Map(document.getElementById("map"), mapProp);

			//  $.getJSON(json, function(json1) {
			var json1 = {
				"clinics":[
					{"title":"Bartow Health Access","streetadr":"31 Pointe North Drive","citystatezip":"Cartersville, GA 30120","phone":"(678) 535-7216","website":"http://www.bartowhealthaccess.org","stateus":"Georgia","lat":34.194487,"lng":-84.799064,"pprogram":false,"servicestpc":true,"servicesdnt":false,"servicesbeh":true},
					{"title":"Bethesda Community Clinic","streetadr":"107 Mountain Brook Dr Ste 100","citystatezip":"Canton, GA 30114","phone":"(678) 880-9654","website":"www.BethesdaCommunityClinic.org","stateus":"Georgia","lat":34.178207,"lng":-84.504502,"pprogram":true,"servicestpc":true,"servicesdnt":true,"servicesbeh":true},
					{"title":"Christ Community Health Services Augusta","streetadr":"PO Box 2344","citystatezip":"Augusta, GA 30903","phone":"((706) 922-0600","website":"www.christcommunityaugusta.org","stateus":"Georgia","lat":33.470000,"lng":-81.970000,"pprogram":true,"servicestpc":true,"servicesdnt":false,"servicesbeh":false},
					{"title":"FISH MD","streetadr":"226 Alcovy Street, Building D","citystatezip":"Monroe, GA 30655","phone":"(678) 635-8378","website":"http://www.fishofwalton.info/MEDICALDENTALCLINIC.aspx","stateus":"Georgia","lat":33.787764,"lng":-83.715426,"pprogram":false,"servicestpc":false,"servicesdnt":false,"servicesbeh":false},
					{"title":"Good News Clinic, Gainesville","streetadr":"810 Pine St.","citystatezip":"Gainesville, GA 30501","phone":"(770) 297-5040","website":"www.goodnewsclinics.org","stateus":"Georgia","lat":34.288862,"lng":-83.826208,"pprogram":true,"servicestpc":true,"servicesdnt":false,"servicesbeh":false},
					{"title":"Good Samaritan Health Center of Atlanta","streetadr":"1015 Donald Lee Hollowell Pkwy NW ","citystatezip":"Atlanta, GA 30318","phone":"(404) 523-6571","website":"www.goodsamatlanta.org","stateus":"Georgia","lat":33.773632,"lng":-84.420651,"pprogram":true,"servicestpc":true,"servicesdnt":true,"servicesbeh":true},
					{"title":"Good Samaritan Health Center of Cobb","streetadr":"1605 Roberta Dr SW","citystatezip":"Marietta, GA 30008","phone":"(770) 419-3120","website":"www.goodsamhc.org","stateus":"Georgia","lat":33.913941,"lng":-84.556356,"pprogram":true,"servicestpc":true,"servicesdnt":true,"servicesbeh":true},
					{"title":"Good Samaritan Health Center of Gwinnett","streetadr":"3700 Clubb Dr","citystatezip":"Lawrenceville, GA 30044","phone":"(678) 280-6630","website":"www.goodsamgwinnett.org","stateus":"Georgia","lat":33.941396,"lng":-84.127101,"pprogram":true,"servicestpc":true,"servicesdnt":false,"servicesbeh":false},
					{"title":"Good Shepherd Clinic","streetadr":"PO Box 6","citystatezip":"Morrow, GA 30260","phone":"(770) 968-1310","website":"www.godshep.org","stateus":"Georgia","lat":33.583166,"lng":-84.339368,"pprogram":false,"servicestpc":false,"servicesdnt":false,"servicesbeh":false},
					{"title":"HEALing Community Center","streetadr":"2600 MLK Blvd","citystatezip":"Atlanta, GA 30311","phone":"(404) 564-7749","website":"www.HEALingOurCommunities.org","stateus":"Georgia","lat":33.753172,"lng":-84.472456,"pprogram":true,"servicestpc":true,"servicesdnt":true,"servicesbeh":true},
					{"title":"Hope Dental Clinic","streetadr":"20 Broad St.","citystatezip":"Augusta, GA 30901","phone":"(706) 722-5999","website":"www.bsmcaugusta.org/hope-dental-clinic","stateus":"Georgia","lat":33.468981,"lng":-81.949293,"pprogram":false,"servicestpc":true,"servicesdnt":false,"servicesbeh":false},
					{"title":"J.O.Y. Clinic, Inc.","streetadr":"112 Rowe St","citystatezip":"Dublin, GA 31021","phone":"(478) 272-4071","website":"unavailable","stateus":"Georgia","lat":32.537517,"lng":-82.334644,"pprogram":false,"servicestpc":false,"servicesdnt":false,"servicesbeh":false},
					{"title":"Mercy Health Center, Inc.","streetadr":"700 Oglethorpe Ave, Suite C7","citystatezip":"Athens, GA 30606","phone":"(706) 425-9445","website":"www.mercyhealthcenter.net","stateus":"Georgia","lat":33.962803,"lng":-83.412322,"pprogram":true,"servicestpc":true,"servicesdnt":true,"servicesbeh":false},
					{"title":"MercyMed of Columbus","streetadr":"3702 2nd Ave","citystatezip":"Columbus, GA 31904","phone":"(706) 507-9209","website":"www.mercymedcolumbus.com","stateus":"Georgia","lat":32.498229,"lng":-84.989740,"pprogram":true,"servicestpc":true,"servicesdnt":false,"servicesbeh":false},
					{"title":"New Life Clinic","streetadr":"3150 Old Atlanta Rd","citystatezip":"Suwanee, GA 30024","phone":"(678) 807-5122","website":"unavailable","stateus":"Georgia","lat":34.109752,"lng":-84.150686,"pprogram":false,"servicestpc":true,"servicesdnt":true,"servicesbeh":false},
					{"title":"Saint Joseph's Mercy Care Services","streetadr":"1300 Joseph E Boone Blvd NW","citystatezip":"Atlanta, GA 30314","phone":"(404) 874-2241","website":"http://www.cityofrefugeatl.org/st-josephs-mercy-care-services/","stateus":"Georgia","lat":33.762316,"lng":-84.430230,"pprogram":false,"servicestpc":false,"servicesdnt":false,"servicesbeh":false}
			   ]};   

			$.each(json1.clinics, function (key, data) {

				var latLng = new google.maps.LatLng(data.lat, data.lng);

				var marker = new google.maps.Marker({
					position: latLng,
					map: map,
					// icon: icon,
					title: data.title
				});

				var typesOfClinicsAvailable = '';
				if (data.servicestpc){
					typesOfClinicsAvailable = 'Traditional Primary Care';
				}
				if (data.servicesdnt){
					if (typesOfClinicsAvailable != ''){
						typesOfClinicsAvailable = typesOfClinicsAvailable + ', ' + 'Dental';
					}
					else{
						typesOfClinicsAvailable = 'Dental';
					}
				}
				if (data.servicesbeh){
					if (typesOfClinicsAvailable != ''){
						typesOfClinicsAvailable = typesOfClinicsAvailable + ', ' + 'Behavioral Health/Counseling';
					}
					else{
						typesOfClinicsAvailable = 'Dental';
					}
				}
				if (typesOfClinicsAvailable != ''){
					typesOfClinicsAvailable = "<i>" + typesOfClinicsAvailable + '</i><br>';
				}
				var myWebsite = '';
				if (data.website != 'not available') {
					myWebsite = data.website + "<br>";
				}
				var details = "<b>" + data.title + "</b><br>" + typesOfClinicsAvailable + data.streetadr + "<br>" + data.citystatezip + "<br>" + data.phone + "<br>" + myWebsite;

				bindInfoWindow(marker, map, infowindow, details);

				//    });

			});

		}

		function bindInfoWindow(marker, map, infowindow, strDescription) {
			google.maps.event.addListener(marker, 'click', function () {
				infowindow.setContent(strDescription);
				infowindow.open(map, marker);
			});
		}

		google.maps.event.addDomListener(window, 'load', initialize);
	</script>
	
  </body>
</html>